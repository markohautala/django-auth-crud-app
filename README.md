# TITLE
### SHORT DESCRIPTION OF PROJECT

(INSERT PICTURE HERE)

[This is the link]() to the deployed webpage/URL.

[This is the link](https://github.com/markohautala/django-auth-crud-app) to the GitHub repository for this project.

<hr>

## How to use it



## Features

- All pages should prioritize good UX by ensuring that users never have to rely on the browser's 'back' button to navigate to a previous page. Instead, each page should provide a clearly labeled link for this purpose, contributing to a seamless user experience.

- 

#### UX design
(UX design with wire frames and database design/schema)

- Database schema: 

| Field         | Type         | Description                                          |
|---------------|--------------|------------------------------------------------------|
| id            | Integer      | Primary key, auto-generated by Django                |
| user_id       | Integer      | Foreign key referencing the User table (nullable)     |
| title         | CharField    | Stores the title of the task                         |
| description   | TextField    | Stores the description of the task (nullable)         |
| complete      | BooleanField | Indicates whether the task is complete or not         |
| created       | DateTimeField| Timestamp of when the task was created               |


#### Future features

- A search function so that the user can search after items after they have created them.

- A due-date, so that the user can prompt a "end date" or "date to finish" the task to.

- A way for a user to be able to delete their whole account.

<hr>

## Testing

#### Solved bugs

- Bug #1: "TemplateDoesNotExist at /
base/task_list.html"
Since I had my DEBUG=True under my development, the browser gave me information that my django application was looking for a template and a file named task_list.html. Some research later I found out that I needed to create a folder named "templates" and nested instide it a folder called "base" and inside of it I created a file named "task_list.html". When I places some content in it, and refreshed my browser the content appeared - which indicates that the solution was right - DEBUG helped me.

- Bug#2: "TemplateSyntaxError at /
Could not parse the remainder: '-tasks' from 'todo-tasks".
The issue was that i named my "context_object_name" to "todo-tasks". Then I did some research and remebered from python essentials that if one declares variables with "-" instead of "_" then it will give error-messages. i changed the name to "todo_tasks" and this imediately fixed the issue.

- Bug#3: I got the error message saying "ImproperlyConfigured at /create-task/
Using ModelFormMixin (base class of CreateTask) without the 'fields' attribute is prohibited." Getting help from the debugger tool and I could see that there was a typo in the views.py - it should be "fields = '__all__'" but I forgot the "s". This was easily fixed.

- Bug#4: After submitting my new "task", the form gave me this: "
Forbidden (403)
CSRF verification failed. Request aborted.
Reason given for failure: CSRF token missing."

After a quick research I had to include this line of code "{% csrf_token %}" and after submitting again my task was successfully added to the database and shown on the browser.

- Bug#5: When I created the back button, I suddenly got an error when I wanted to create a task - the debugger gave me this error message: "TemplateSyntaxError at /create-task/ Invalid block tag on line 2: ''tasks''. Did you forget to register or load this tag?"
I noticed that I had forgotten to put in the "url" inside the curly braces and inside the procent-symbols. This was easily fixed and I could continue after it.

- Bug#6: I did get another error message when I added a button "to go back to the todo-list". using the debugger tool i managed to figure out that the href path was wrong. When I figured this out i changed the href and the page loaded correctly.

- Bug#7: Comment: Problem was that when a new user was created, then that user had access to the whole database and all the tasks. This resulted in scenarios where User A could view, edit and delete tasks assigned to both User A and User B.
To resolve this, we implemented a solution using the " get_context_data " method to enforce data access controls. Specifically, we modified the data retrieval logic to restrict the returned tasks to those associated with the authenticated user only. By implementing this approach, we ensure that users can only interact with tasks that belong to them, enhancing data privacy and access control within the application.

- Bug#8: Application error in Heroku: This error took alot of time to resolve and the error message i got from Heroku was "ModuleNotFoundError". Heroku could not locate "todo_app.wsgi" and after two days of debugging and testing out different solutions, the problem was successfully solved and the main problem was that there was one too many folders nested in other folders - this made that my wsgi-file could not be found by heroku - even though the right file was there. When I removed the top folder, and renamed it, and re-deployed the project in Heroku, it worked perfectly.

#### Unsolved bugs

#### Validator testing

#### Technologies used
- Python
- HTML
- CSS
- JavaScript
- SQLite (Relational database)


#### Manual testing write up

<hr>


## Deployment procedure
(forking and cloning left)



#### Deploying on Heroku:

1.  **Log in** to the Heroku account.
2.  Navigate to **"New"** and click **"Create new App"**.
3.  Choose a unique **app name** and click **"Create app"**.
4.  Select the preferred **region (e.g., Europe)**.
5.  Go to **"Deploy"** tab.
6.  Click **"Connect to GitHub"**.
7.  Search for the **repository** name in the search field.
8.  Click **"Search"** and then **"Connect"** next to the right repository.
9.  Enable **"Automatic deploys"**.
10.  Click **"Deploy branch"**.

### Setup in the IDE (VS Code):

1.  In the CLI, install **Django-Heroku**: `pip install django-heroku`.
2.  Install **Gunicorn**: `pip install gunicorn`.
3.  Install **Whitenoise**: `pip install whitenoise`.
4.  Create a **"runtime.txt"** file and specify the **Python version** (e.g., `python-3.12.3`).
5.  Create a **Procfile** and add: `web: gunicorn todo_app.wsgi`.
6.  In **settings.py**, add Whitenoise middleware: `MIDDLEWARE=['whitenoise.middleware.WhiteNoiseMiddleware']`.
7.  Also in **settings.py**, set `STATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'`.
8.  Add `python-3.12.3` in a **"runtime.txt"** file (Python version used in the project).
9.  In **Procfile**, add logging: `web: gunicorn todo_app.wsgi --log-file -`.
10.  Generate **requirements.txt**: `pip freeze > requirements.txt`.
11.  Import **django\_heroku** and **os** in **settings.py**.
12.  Add the Heroku app's URL to **ALLOWED\_HOSTS**.
13.  Set `DEBUG=False` in **settings.py**.
14.  At the end of **settings.py**, activate Django-Heroku: `django_heroku.settings(locals())`.

* Additional Steps:

*   If the app has static files (JS, CSS), set **config vars** by adding `"DISABLE_COLLECTSTATIC"` with a value of `"1"`.
*   Commit the changes with an appropriate message and **push to GitHub**.
*   **Deploy** the changes on Heroku to apply the new configurations.


<hr>

## Credits
- External resource for deeper knowledge of all the class based views in django: https://ccbv.co.uk/

- External resources to help the understanding of the get_context_data: https://forum.djangoproject.com/t/get-context-data-only-users-data/3904/7

- This resource is used for the colors to the page: https://colorhunt.co/

- I have used this Heroku Docs from Heroku Dev Center in debugging perpouses: https://devcenter.heroku.com/categories/reference

- I have used google fonts for all the icons in the application: https://fonts.google.com/icons